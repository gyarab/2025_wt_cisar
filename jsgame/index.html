<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Game</title>
</head>
<body>
    <h1>JS Game</h1>
    <p>H치dej 캜칤slo od 1 do 20</p>

    <input id="newGameBtn" type="button" value="Nov치 hra">
    <br><br>

    <input id="guess" type="number" placeholder="Zadej 캜칤slo (1-20)">
    <input id="guessBtn" type="button" value="Zkus">

    <p id="message"></p>

    <p>Po캜et pokus콢 <span id="attempts">0</span>.</p>

    <script>
        let secretNumber;
        let attempts;
        const maxAttempts = 10;

        const messageEl = document.getElementById("message");
        const attemptsEl = document.getElementById("attempts");
        const guessInput = document.getElementById("guess");
        const guessBtn = document.getElementById("guessBtn");
        const newGameBtn = document.getElementById("newGameBtn");

        function newGame() {
            secretNumber = Math.floor(Math.random() * 20) + 1;
            attempts = 0;

            messageEl.textContent = "";
            messageEl.style.color = "black";
            attemptsEl.textContent = "0";
            guessInput.value = "";

            guessBtn.disabled = false;
            guessInput.disabled = false;

            console.log('--- NEW GAME ---');
            console.log('tajne cislo je', secretNumber);
        }

        function endGameLose() {
            messageEl.textContent = "Prohr치l jsi! Do코ly ti pokusy.";
            messageEl.style.color = "red";
            guessBtn.disabled = true;
            guessInput.disabled = true;
            console.log("GAME OVER");
        }

        function checkGuess() {
            const guess = Number(guessInput.value);

            if (!guess) {
                messageEl.textContent = "Zadej 캜칤slo!";
                return;
            }

            attempts++;
            attemptsEl.textContent = attempts;

            console.log("Hr치캜 tipuje:", guess);

            if (attempts >= maxAttempts && guess !== secretNumber) {
                endGameLose();
                return;
            }

            if (guess === secretNumber) {
                messageEl.textContent = "Vyhr치l jsi! 游꿀";
                messageEl.style.color = "green";
                guessBtn.disabled = true;
                guessInput.disabled = true;
                console.log("Hr치캜 vyhr치l!");
            } else if (guess < secretNumber) {
                messageEl.textContent = "Zkus v캩t코칤 캜칤slo.";
            } else {
                messageEl.textContent = "Zkus men코칤 캜칤slo.";
            }
        }

        // eventy
        guessBtn.addEventListener("click", checkGuess);

        guessInput.addEventListener("keydown", function(event) {
            if (event.key === 'Enter') checkGuess();
        });

        newGameBtn.addEventListener("click", newGame);

        // start
        newGame();
    </script>
</body>
</html>